{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ada\\\\Documents\\\\GitHub\\\\Urheilija2\\\\reactfrontend\\\\src\\\\context\\\\GlobalState.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from \"react\";\nimport AppReducer from \"./AppReducer\";\nimport UrheilijatContext from \"./UrheilijatContext\";\nimport { GET_URHEILIJAT } from \"./types\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GlobalState = props => {\n  _s();\n  //initial state\n  let initialState = {\n    yhteystiedot: []\n  };\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n  const getUrheilijat = async () => {\n    try {\n      let res = await axios.get(\"http://localhost:3000/urheilijat\");\n      let {\n        data\n      } = res;\n      dispatch({\n        type: GET_URHEILIJAT,\n        payload: data\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const getUrheilija = async id => {\n    try {\n      let sql = \"http://localhost:3000/urheilijat/\" + id;\n      let res = await axios.get(sql);\n      console.log(\"GET_URHEILIJA:\");\n      dispatch({\n        type: \"GET_URHEILIJA\",\n        payload: res.data\n      });\n      ///return res.data;\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const setUrheilijat = async uusiUrheilija => {\n    try {\n      const res = await axios.post(`http://localhost:3000/add`, uusiUrheilija).then(res => {\n        dispatch({\n          type: \"ADD_URHEILIJA\",\n          payload: res.data\n        });\n        console.log(res.data);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const setUrheilija = async (id, paivitettyUrheilija) => {\n    try {\n      const res = await axios.put(`http://localhost:3000/urheilijat/${id}`, paivitettyUrheilija).then(res => {\n        dispatch({\n          type: \"EDIT_UREHILIJA\",\n          payload: res.data\n        });\n        console.log(res.data);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const poistaUrheilija = async id => {\n    try {\n      //alert(id);\n      //console.log(\"poistetaan\");\n      //console.log(id[\"id\"]);\n      let sql = \"http://localhost:3000/urheilijat/\" + id[\"id\"];\n      const res = await axios\n      //.delete(`http://localhost:3000/henkilot/${id}`)\n      .delete(sql).then(res => {\n        dispatch({\n          type: \"DELETE_URHEILIJA\",\n          payload: id[\"id\"]\n        });\n        console.log(res.data);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(UrheilijatContext.Provider, {\n    value: {\n      urheilijat: state.urheilijat,\n      getUrheilijat,\n      setUrheilija,\n      setUrheilijat,\n      poistaUrheilija,\n      getUrheilija\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n//};\n_s(GlobalState, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = GlobalState;\nexport default GlobalState;\nvar _c;\n$RefreshReg$(_c, \"GlobalState\");","map":{"version":3,"names":["React","useReducer","AppReducer","UrheilijatContext","GET_URHEILIJAT","axios","jsxDEV","_jsxDEV","GlobalState","props","_s","initialState","yhteystiedot","state","dispatch","getUrheilijat","res","get","data","type","payload","error","console","getUrheilija","id","sql","log","setUrheilijat","uusiUrheilija","post","then","setUrheilija","paivitettyUrheilija","put","poistaUrheilija","delete","Provider","value","urheilijat","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Ada/Documents/GitHub/Urheilija2/reactfrontend/src/context/GlobalState.js"],"sourcesContent":["import React, { useReducer } from \"react\";\r\nimport AppReducer from \"./AppReducer\";\r\nimport UrheilijatContext from \"./UrheilijatContext\";\r\nimport { GET_URHEILIJAT } from \"./types\";\r\nimport axios from \"axios\";\r\nconst GlobalState = (props) => {\r\n  //initial state\r\n  let initialState = {\r\n    yhteystiedot: [],\r\n  };\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n  const getUrheilijat = async () => {\r\n    try {\r\n      let res = await axios.get(\"http://localhost:3000/urheilijat\");\r\n      let { data } = res;\r\n      dispatch({ type: GET_URHEILIJAT, payload: data });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const getUrheilija = async (id) => {\r\n    try {\r\n      let sql = \"http://localhost:3000/urheilijat/\" + id;\r\n      let res = await axios.get(sql);\r\n      console.log(\"GET_URHEILIJA:\");\r\n      dispatch({ type: \"GET_URHEILIJA\", payload: res.data });\r\n      ///return res.data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const setUrheilijat = async (uusiUrheilija) => {\r\n    try {\r\n      const res = await axios\r\n        .post(`http://localhost:3000/add`, uusiUrheilija)\r\n        .then((res) => {\r\n          dispatch({ type: \"ADD_URHEILIJA\", payload: res.data });\r\n          console.log(res.data);\r\n        });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const setUrheilija = async (id, paivitettyUrheilija) => {\r\n    try {\r\n      const res = await axios\r\n        .put(`http://localhost:3000/urheilijat/${id}`, paivitettyUrheilija)\r\n        .then((res) => {\r\n          dispatch({ type: \"EDIT_UREHILIJA\", payload: res.data });\r\n          console.log(res.data);\r\n        });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const poistaUrheilija = async (id) => {\r\n    try {\r\n      //alert(id);\r\n      //console.log(\"poistetaan\");\r\n      //console.log(id[\"id\"]);\r\n      let sql = \"http://localhost:3000/urheilijat/\" + id[\"id\"];\r\n      const res = await axios\r\n        //.delete(`http://localhost:3000/henkilot/${id}`)\r\n        .delete(sql)\r\n        .then((res) => {\r\n          dispatch({ type: \"DELETE_URHEILIJA\", payload: id[\"id\"] });\r\n          console.log(res.data);\r\n        });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <UrheilijatContext.Provider\r\n      value={{\r\n        urheilijat: state.urheilijat,\r\n        getUrheilijat,\r\n        setUrheilija,\r\n        setUrheilijat,\r\n        poistaUrheilija,\r\n        getUrheilija,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </UrheilijatContext.Provider>\r\n  );\r\n};\r\n//};\r\nexport default GlobalState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}